#!/usr/bin/env bash

command_exists(){
	type "$1" > /dev/null 2>&1
}

create_simbolick_link(){
    
    if [[ -f "$HOME/$1" ]]; then
        echo "Create backup and delete $1 "
		cp $HOME/$1 $HOME/$1.bck.$(date +%Y%m%d)
		rm $HOME/$1
	fi

    echo "Create symbolic link $1"
	ln -s $2/$1 $HOME
}

set_package_manager() {
	export PACKAKE_MANAGER=$1;
}

set_distro_name() {
	export DISTRO_NAME=$1;
}

check_distro(){
	output_distro=$(grep '^NAME' /etc/os-release | cut -d "=" -f 2 | cut -d "\"" -f 2)
    
	case $output_distro in
        "Ubuntu")
			set_package_manager apt;
			set_distro_name $UBUNTU_DISTRO;
            ;;
        
        "Fedora")
			set_package_manager dnf;
			set_distro_name $FEDORA_DISTRO;
            ;;

        *)
            echo "Distro not compatible"
			exit 1;
            ;;
    esac
}

install_package() {
	sudo $PACKAKE_MANAGER install -y $1 > /dev/null 2>&1
}

update_package_repository(){
	echo "Update OS"
	sudo $PACKAKE_MANAGER update > /dev/null 2>&1;
}

check_font_exists(){

    fc-list -q "$1"
    if [ $? -eq 0 ]
    then
        return 1
    else
        return 0
    fi
}